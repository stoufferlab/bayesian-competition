library(dplyr)
library(ggplot2)
library(tidyverse)
library(ggpubr)
sapply(
list.files(path='src/',full.names=TRUE),
source
)
#for example a simulation where nothing changes
simulation<- readRDS("~/coexistence_alleles/decomp_sim_results_seed_13_0_0.001_-0.75_0.1.RDS")
p<-mutual_invasion_propotions(simulation = simulation,
use_confident_intervals = FALSE,
return_table = TRUE,
make_plot = TRUE)
getwd()
source("code/feasibility_toolbox.R")
source("code/figure_label.R")
pdf(file="../bayesian_competition_ms/feasibility_domain.pdf",width = 5, height = 8)
source("code/access_results.R")
sunny_results <- filter(final_results, environment=="open") %>% filter( vero_model != "Lotka-Volterra")%>% filter( trcy_model != "Lotka-Volterra" )
woody_results <- filter(final_results, environment=="woody")  %>% filter( vero_model != "Lotka-Volterra")%>% filter( trcy_model != "Lotka-Volterra" )
write_csv(sunny_results, file = "sunny.csv")
write_csv(woody_results, file = "woody.csv")
col1 <- rethinking::col.alpha("mediumseagreen",0.3)
col2 <- rethinking::col.alpha("grey60",0.3)
col3<- rethinking::col.alpha("#e3004e", 1)
xx <- expression("Relative coexistence ratio,"~rho)
yy <- expression("Distance from the edge,"~delta)
all_results<- rbind(sunny_results, woody_results)
all_results <- all_results %>% unite("combo", vero_model:trcy_model, remove = FALSE)
open<-ggplot(sunny_results) +
geom_point(
mapping = aes(
x = proportion,
y = distance,
col = as.factor(feasibility)
),
show.legend = FALSE,
size = 2
) +
geom_point( mapping = aes(
x = proportion_mean,
y = distance_mean,
shape= as.factor(feasibility_mean)),
size=3,
col=col3,
show.legend = FALSE ) +
scale_color_manual(values = c(col2, col1)) +
facet_grid(trcy_model~vero_model)  +
geom_abline(intercept = 0, slope = 0, linetype ="dashed", col="grey50")+
xlim(0,2.5)+
ylim(-20,10)+
theme_bw()+
theme(strip.background =element_rect(fill="white"),
axis.title = element_text(size = 12),
strip.text = element_text(size = 12))+
xlab(xx)+
ylab(yy)
open <- annotate_figure(open,
top = text_grob( "Vellia rosea", size = 12, face = "italic"),
right = text_grob( "Trachymene cyanopetala", size = 12, face = "italic", rot=-90)
)
library(ggplot2)
library(ggpubr)
# figures for the paper ---------------------------------------------------
source("code/access_results.R")
sunny_results <- filter(final_results, environment=="open") %>% filter( vero_model != "Lotka-Volterra")%>% filter( trcy_model != "Lotka-Volterra" )
woody_results <- filter(final_results, environment=="woody")  %>% filter( vero_model != "Lotka-Volterra")%>% filter( trcy_model != "Lotka-Volterra" )
write_csv(sunny_results, file = "sunny.csv")
write_csv(woody_results, file = "woody.csv")
col1 <- rethinking::col.alpha("mediumseagreen",0.3)
col2 <- rethinking::col.alpha("grey60",0.3)
col3<- rethinking::col.alpha("#e3004e", 1)
xx <- expression("Relative coexistence ratio,"~rho)
yy <- expression("Distance from the edge,"~delta)
all_results<- rbind(sunny_results, woody_results)
all_results <- all_results %>% unite("combo", vero_model:trcy_model, remove = FALSE)
open<-ggplot(sunny_results) +
geom_point(
mapping = aes(
x = proportion,
y = distance,
col = as.factor(feasibility)
),
show.legend = FALSE,
size = 2
) +
geom_point( mapping = aes(
x = proportion_mean,
y = distance_mean,
shape= as.factor(feasibility_mean)),
size=3,
col=col3,
show.legend = FALSE ) +
scale_color_manual(values = c(col2, col1)) +
facet_grid(trcy_model~vero_model)  +
geom_abline(intercept = 0, slope = 0, linetype ="dashed", col="grey50")+
xlim(0,2.5)+
ylim(-20,10)+
theme_bw()+
theme(strip.background =element_rect(fill="white"),
axis.title = element_text(size = 12),
strip.text = element_text(size = 12))+
xlab(xx)+
ylab(yy)
getwd()
setwd("./")
getwd()
